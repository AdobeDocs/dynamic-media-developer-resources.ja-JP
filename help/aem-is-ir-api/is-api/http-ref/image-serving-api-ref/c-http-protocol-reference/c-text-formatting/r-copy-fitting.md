---
description: textPs=は独自のコピーフィッティングアルゴリズムを実装し、テキスト領域を最適に埋めるようにフォントサイズを自動的に調整し、オーバーフローを回避しながら下部の余分なスペースを最小限に抑えます。
solution: Experience Manager
title: 継ぎ手のコピー
feature: Dynamic Media Classic、SDK/API
role: Developer,Business Practitioner
exl-id: d1a560f3-f92c-4143-b80a-e1674c8a4207
source-git-commit: 1ec8b59f442eb96c6c3f5f1405d57a38a86bd056
workflow-type: tm+mt
source-wordcount: '528'
ht-degree: 0%

---

# 継ぎ手のコピー{#copy-fitting}

textPs=は独自のコピーフィッティングアルゴリズムを実装し、テキスト領域を最適に埋めるようにフォントサイズを自動的に調整し、オーバーフローを回避しながら下部の余分なスペースを最小限に抑えます。

コピーの調整は、個々のテキストのスパンに対しても、段落単位でテキストレイヤー全体に対して一括して有効化および制御できます。

最小フォントサイズを`\fs`で指定し、最大フォントサイズを`\copyfit`で指定します。 同じRTF文字列で許可される範囲の数は任意です。 すべての範囲のサイズは比例的に変化し、必要なフォントサイズ比が維持されます。

`\copyfit` は文字フォーマットコマンドと見なされ、やなどのスコープルールを `\fs` 持ちま `\b`す。

`\fs`で指定したサイズ以下のサイズで`\copyfit`を指定すると、コピーフィッティングが無効になります。

## 行数の制限 {#section-e5aee0f039e04842afc3d6884ed681ac}

フォントサイズの範囲を指定する以外に、`\copyfitlines`または`\copyfitmaxlines`コマンドを使用して、コピーフィッティングアルゴリズムの動作をさらに制御できます。このコマンドは、アルゴリズムが生成する行数を制限します。 どちらのコマンドも、線数パラメータまたは0を受け取り、コピーフィット領域の線数を制限しません。

`\copyfitlines` 指定した行数に収まらない場合に、テキストを追加の行にオーバーフローできます。コピーフィットするテキストセグメントの明示的な改行は常に有効です。

`\copyfitmaxlines` 常に、指定された制限を超える余分な出力行を切り捨てます。明示的な改行が存在する場合でも、指定された行数を超えることはありません。 このリリースの画像サービングでは、N-1 `\line`個以下のマーカーがコピー付きのテキスト範囲に含まれる場合があります。 この制限を超えた場合の動作は未定義です。

## 例 {#section-f4ddbbfade444560be30a813d90c2c1b}

次の例では、テキストの本文に&#x200B;*[!DNL $A$]*、*[!DNL $B$]*、*[!DNL $C$]*&#x200B;という名前の変数が用意されていることを前提としています。

**範囲内でフォントサイズ間の同じ比率を維持する：**

`{\fs10\copyfit100 $A${\fs20\copyfit200 $B$}$C$}`

*[!DNL $B$]* は、常にテキストの残りの部分の2倍の大きさでレンダリングされます。多くのテキストが指定されている場合、*[!DNL $A$]*&#x200B;と&#x200B;*[!DNL $C$]*&#x200B;は`\fs10`と`\fs20`でレンダリングされます。 *[!DNL $B$]*&#x200B;テキストが少ない場合、*[!DNL $A$]*&#x200B;と&#x200B;*[!DNL $C$]*&#x200B;は`\fs100`と&#x200B;*[!DNL $B$]* `\fs200`を使用します。

**少量のテキストしか描画されない場合は、一般的な大きなフォントサイズに収束します。**

`{\copyfit100\fs10 $A${\fs20 $B$}$C$}`

範囲の最も小さい端で、*[!DNL $B$]*&#x200B;は`\fs20`で、*[!DNL $A$]*&#x200B;の2倍、*[!DNL $C$]*&#x200B;の`\fs10`でレンダリングされます。 すべてのテキストは、範囲の反対側の`\fs100`（50ポイント）に描画されます。

**レンダリングするテキストが多い場合は、一般的な小さいフォントサイズに収束します。**

`{\fs10\copyfit100 $A${\copyfit200 $B$}$C$}`

すべてのテキストは、範囲の小さい端に\fs10を使用して描画されますが、最大の&#x200B;*[!DNL $A$]*&#x200B;と&#x200B;*[!DNL $C$]*&#x200B;は、`\fs100`と&#x200B;*[!DNL $B$]*&#x200B;を使用して`\fs200`で描画されます。

**内側のテキストスパンのコピー調整を無効にします：**

`{\fs10\copyfit100 $A${\fs50\copyfit0 $B$}$C$}`

*[!DNL $A$]*&#x200B;と&#x200B;*[!DNL $C$]*&#x200B;のフォントサイズは10から100の間で変わる場合がありますが、*[!DNL $B$]*&#x200B;は常に`\fs50`でレンダリングされます。

**縦方向のスペースが多い場合でも、出力を1行に制限します。ただし、1行に収まるように指定されたテキストが多すぎる場合は、追加行にオーバーフローできま `\fs10`す。**

`{\fs10\copyfit100 \copyfitlines1 $A$}`

**縦のスペースが多い場合でも、出力を1行に制限します。1行`\fs10`に収まらないように指定されたテキストが多すぎる場合は、切り捨てられます。**

`{\fs10\copyfit100 \copyfitmaxlines1 $A$}`
