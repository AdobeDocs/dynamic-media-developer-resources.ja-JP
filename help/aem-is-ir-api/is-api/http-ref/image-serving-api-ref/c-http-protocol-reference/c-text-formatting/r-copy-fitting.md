---
description: textPs=は、独自のコピー調整アルゴリズムを実装しています。このアルゴリズムは、テキスト領域をテキストで最適に満たすようにフォントサイズを自動的に調整し、オーバーフローを避けながら下部の余分なスペースを最小限に抑えます。
solution: Experience Manager
title: Copy-fitting
feature: Dynamic Media Classic,SDK/API
role: Developer,User
exl-id: d1a560f3-f92c-4143-b80a-e1674c8a4207
source-git-commit: 4f81f755789613222a66bed2961117604ae19e62
workflow-type: tm+mt
source-wordcount: '516'
ht-degree: 0%

---

# Copy-fitting{#copy-fitting}

textPs=は、独自のコピー調整アルゴリズムを実装しています。このアルゴリズムは、テキスト領域をテキストで最適に満たすようにフォントサイズを自動的に調整し、オーバーフローを避けながら下部の余分なスペースを最小限に抑えます。

コピー調整は、個々のテキストスパンに対しても、段落ベースでテキストレイヤー全体に対して有効になり、一括で制御できます。

最小フォントサイズを `\fs`、最大フォントサイズを `\copyfit` に指定します。 同じ RTF 文字列で許可される範囲の数は任意です。 すべての範囲のサイズは比例的に変化し、目的のフォントサイズ比が維持されます。

`\copyfit` は文字フォーマットコマンドと見なされ、`\fs` や `\b` などの範囲ルールを持ちます。

`\fs` で指定したサイズ以下のサイズの `\copyfit` を指定すると、コピー継ぎ手は無効になります。

## ライン数の制限 {#section-e5aee0f039e04842afc3d6884ed681ac}

フォントサイズの範囲を指定する以外に、`\copyfitlines` または `\copyfitmaxlines` コマンドを使用してコピー調整アルゴリズムの動作をさらに制御できます。これにより、アルゴリズムが生成する行数が制限されます。 どちらのコマンドも、コピーした領域のライン数を制限しないように、ライン カウント パラメータまたは 0 を受け付けます。

`\copyfitlines` では、指定した行数に収まらない場合に、追加の行にテキストをオーバーフローさせることができます。 コピーするテキストセグメント内の明示的な改行は常に優先されます。

`\copyfitmaxlines` は常に、指定された制限を超える余分な出力行を切り捨てます。 明示的な改行が存在する場合でも、指定された行数を超えることはありません。 このリリースの画像サービングでは、コピーが配置されたテキストスパンに、N-1 個を超える `\line` マーカーを含めることはできません。 この制限を超えた場合の動作は未定義です。

## 例 {#section-f4ddbbfade444560be30a813d90c2c1b}

次の例では、テキストの本文に *[!DNL $A$]*、*[!DNL $B$]*、および *[!DNL $C$]* という名前の変数が指定されていると仮定します。

**範囲全体で同じフォントサイズ比を維持：**

`{\fs10\copyfit100 $A${\fs20\copyfit200 $B$}$C$}`

*[!DNL $B$]* は常に、残りのテキストの 2 倍の大きさでレンダリングされます。 大量のテキストを指定すると、*[!DNL $A$]* と *[!DNL $C$]* は `\fs10` でレンダリングされ、*[!DNL $B$]* は `\fs20` でレンダリングされます。 小さなテキストで、*[!DNL $A$]* と *[!DNL $C$]* は `\fs100` と *[!DNL $B$]* の `\fs200` を使用します。

**テキストの量が少ない場合は、一般的な大きいフォントサイズに収束する：**

`{\copyfit100\fs10 $A${\fs20 $B$}$C$}`

範囲の最も小さい端で、*[!DNL $B$]* は *[!DNL $A$]* の 2 倍の大きさの `\fs20` でレンダリングされ、`\fs10` では *[!DNL $C$]* でレンダリングされます。 すべてのテキストは、範囲の反対側の端の `\fs100` （50 ポイント）に描画されます。

**多くのテキストをレンダリングする場合は、一般的な小さいフォントサイズに収束する：**

`{\fs10\copyfit100 $A${\copyfit200 $B$}$C$}`

すべてのテキストは、範囲の小さい端に\fs10 で描画され、最大のテキスト、*[!DNL $A$]*、*[!DNL $C$]* は `\fs100` で描画され、*[!DNL $B$]* は `\fs200` で描画されます。

**内部テキスト範囲のコピー調整を無効にする：**

`{\fs10\copyfit100 $A${\fs50\copyfit0 $B$}$C$}`

*[!DNL $A$]* と *[!DNL $C$]* のフォントサイズは 10 ～ 100 の間で変わりますが、*[!DNL $B$]* は常に `\fs50` でレンダリングされます。

**より高い垂直方向のスペースがある場合でも、出力を 1 行に制限しますが、`\fs10` で 1 行に収まるように指定されたテキストが多すぎると、追加の行にオーバーフローします。**

`{\fs10\copyfit100 \copyfitlines1 $A$}`

**垂直方向のスペースが広い場合でも、出力を 1 行に制限します。 指定したテキストが多すぎて 1 行に収まらない場合 `\fs10` 切り捨てられます。**

`{\fs10\copyfit100 \copyfitmaxlines1 $A$}`
