---
description: textPs=は、この節で説明する様々な使用モデルの数をサポートしています。
solution: Experience Manager
title: テキストレイヤー
feature: Dynamic Media Classic,SDK/API
role: Developer,User
exl-id: 6793eb7d-6c10-4136-b6d4-186a698a8e52
source-git-commit: 97fbf820590b53de5a1e6ce904e44d6b0ef9a214
workflow-type: tm+mt
source-wordcount: '888'
ht-degree: 0%

---

# テキストレイヤー{#text-layers}

textPs=は、この節で説明する様々な使用モデルの数をサポートしています。

>[!NOTE]
>
>この節の内容は `text=` には適用されません。

一般的なルールと定義は次のとおりです。

* 自己サイズ変更テキストレイヤーとは、`size=` コマンドを含まないレイヤーや、`size=0,0` が指定されたレイヤーのことです。

* セルフサイズのテキストレイヤーのレイヤーサイズは、レンダリングされる実際のテキストによって決まります。
* 自己サイズのテキストレイヤーのデフォルトのレイヤーアンカーは、通常 *レイヤーの中央に* ありません）（以下を参照）。
* テキストレイヤーのサイズを自動調整するために `anchor=` または `origin=` を指定した場合、テキストレイヤーの位置はテキストコンテンツの影響を受けます。

* `size=` を指定すると、文字グリフの一部がレイヤーの長方形の外側にレンダリングされる場合があります。
* `pos=` は、どのような場合でもテキストレイヤーの位置を変更するために使用できます。

## ポイントテキスト（セルフサイズ設定） {#section-db99ec98eb114458b2dbc9911a58f74a}

Photoshopスタイルのポイントテキストは、`textPs=`、`size=` または `textPath=` を指定せずに `textFlowPath=` を指定した場合にシミュレートされます。 レイヤーのサイズは、レンダリングされるテキストの幅によって水平方向に、行間隔によって垂直方向に決まります。 テキストは自動的に折り返されません。

`anchor=` も `origin=` も指定しない場合、テキストの最初の行はレイヤーの基準点のすぐ上に配置され、`\ql` でマークされた段落はレイヤーの基準点の右側に、`\qr` を含む段落は基準点の左側にレンダリングされ、`\qc` を含む段落は基準点を中心に水平方向に配置されます。 `anchor=` または `origin=` が指定されている場合は、標準のレイヤ配置規則が適用されます。

`color=` が指定されている場合は、実際にレンダリングされるテキストのバウンディングボックス全体が表示されます。

`\qj`、`\marg*`、`\hyph*`、`\vertal*` の RTF コマンドは無視されます。

## 矩形テキストボックス {#section-1d3ab11df26d4004a1a801546756475d}

`size=` に加えて `textPs=` が指定されている場合（`textPath=` と `textFlowPath=` は指定されていない場合）、テキストは指定された長方形に制限されます。 レイヤーの位置は通常どおり設定されます。 テキストボックスのエッジ付近にある文字記号は、テキストボックスの外側に部分的にレンダリングされる場合があります。

`color=` は `size=` によって定義された領域を満たします。

すべての RTF コマンドが期待どおりに適用されます。

## 「可変高」テキスト・ボックス {#section-e1233d1c9f8e43218667361dc0c4fd06}

高さを 0 に指定すると、テキスト ボックスのサイズを垂直方向に調整して、すべての内容を収めることができます。`size=` の高さを 0 に指定すると、テキスト ボックスのサイズを垂直方向に調整できます。 レイヤーの幅は `size=` の幅で定義され、レイヤーの高さは実際にレンダリングされたテキストの高さで定義されます。 レイヤーの位置は通常どおり設定されます。 テキストボックスの左右の端に近い文字記号は、テキストボックスの外側に部分的にレンダリングされる場合があります。

`color=``size=` 指定された幅と、レンダリングされた実際のテキストの高さで定義される長方形を塗りつぶします。

次の RTF コマンドは無視されます。

`\vertal*`

## パス内の自己サイズ設定テキスト {#section-d26685e7085847efaaeba64b9cb5ed9f}

`textFlowPath=` と `textPs=` を組み合わせて使用することにより、テキストを流し込む 1 つ以上の領域を定義できます。 必要 `textFlowXPath=` 応じて、1 つ以上の領域へのテキストの流れ込みを除外するように指定できます。 `size=` を指定しない場合、生成されるテキストレイヤーはセルフサイズになり、レイヤーサイズは実際にレンダリングされたテキストのバウンディングボックスによって決定されます。

`origin=` も `anchor=` も指定しない場合、レイヤーアンカーはデフォルトでパスの定義に使用されたピクセル座標空間（0,0）となり、レンダリングされたテキストに関係なく絶対位置を確保します。 `anchor=` または `origin=` を指定した場合、レイヤーは、レンダリングされる実際のコンテンツのバウンディングボックスに対して相対的（かつ適合した）に配置されます。

`color=` は、レンダリングされた実際のテキストのバウンディングボックスを埋めます。

次の RTF コマンドは無視されます。

`\marg*`

## パス内の事前サイズ設定されたテキスト {#section-ed492a8a54414cd4bde360500cec6968}

`size=` と共に `textFlowPath=` を指定した場合、レイヤーサイズは事前に決定されます。 パスの定義に使用するピクセル座標空間の（0,0）は、レイヤーの長方形の左上隅に配置されます。

`textFlowPath=` の領域は、レイヤーの長方形の外側に配置できます。 テキストは、レイヤーの長方形の外側にレンダリングされる結果となる場合でも、常にすべてのパス領域にフローおよびレンダリングされます。 `extend=0,0,0,0` レンダリングしたテキストをレイヤーの長方形に切り抜くために使用できます。

レイヤーの配置目的では、レイヤーの長方形の外側にテキストが配置されている場合でも、実際にレンダリングされるテキストの量に関係なく、レイヤーの長方形は指定された `size=` に基づいて作成されます。 標準のレイヤー配置が適用されます。

`color=` で定義された長方形の領域を `size=` で塗りつぶします。

`textFlowPath=` では、次の RTF コマンドは無視されます。

`\marg*`

## パス上の自己サイズ設定テキスト {#section-7ce6b9b26b354ba381e4378703154062}

`textPath=` は、`textPs=` で指定されたテキストをレンダリングする 1 つ以上のパスを定義します。 `size=` を指定しない場合、生成されるテキストレイヤーはセルフサイズになります。 レイヤーサイズは、レンダリングされる実際のテキストのバウンディングボックスによって決まります。

`origin=` も `anchor=` も指定しない場合、レイヤーアンカーはデフォルトでパスの定義に使用されたピクセル座標空間（0,0）になります。レンダリングされるテキストの位置は、テキストのレンダリング量に関係なく固定されます。 `anchor=` または `origin=` を指定した場合、レイヤーは、レンダリングされる実際のコンテンツのバウンディングボックスに対して相対的（かつ適合した）に配置されます。

`color=` は、レンダリングされた実際のテキストのバウンディングボックスを埋めます。

次の RTF コマンドは無視されます。

* `\marg*`
* `\hyph*`
* `\vertal*`

最初の `\par` または `\line` の後のテキストは無視されます。

## パス上の事前サイズ設定されたテキスト {#section-a3bbbc5187f448b192e53d27e2c53f2f}

`size=` と共に `textPath=` を指定した場合、レイヤーサイズは事前に決定されます。 パスの定義に使用するピクセル座標空間の（0,0）は、レイヤーの長方形の左上隅に配置されます。

パスは、レイヤーの長方形の一部または全体の外側に配置できます。 テキストは、レイヤーの長方形の外側にあっても、常にパス全体に沿って適用およびレンダリングされます。 `extend=0,0,0,0` れを使用して、レンダリングしたテキストをレイヤーの長方形に切り抜くことができます。

レイヤーの配置目的では、テキストの一部がレイヤーの長方形の外側にレンダリングされる場合でも、レイヤーの長方形は指定した `size=` に基づきます。 標準のレイヤー配置が適用されます。

`color=` で定義された領域を `size=` で塗りつぶします。

次の RTF コマンドは無視されます。

* `\marg*`
* `\q*`
* `\marg*`
* `\hyph*`
* `\vertal*`

最初の `\par` または `\line` の後のテキストは無視されます。
