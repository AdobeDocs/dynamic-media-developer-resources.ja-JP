---
description: サーバは、カタログ フォルダを継続的に監視し、メインのカタログ属性ファイルが変更されたことを検出すると、自動的に、関連するカタログ データ ファイルを含むイメージ カタログを再ロードします。
solution: Experience Manager
title: 画像カタログの更新
feature: Dynamic Media Classic,SDK/API
role: Developer,User
exl-id: b520b4f3-6717-4768-99e2-78a76d1ede24
source-git-commit: 206e4643e3926cb85b4be2189743578f88180be7
workflow-type: tm+mt
source-wordcount: '306'
ht-degree: 0%

---

# 画像カタログの更新{#updating-image-catalogs}

サーバは、カタログ フォルダを継続的に監視し、メインのカタログ属性ファイルが変更されたことを検出すると、自動的に、関連するカタログ データ ファイルを含むイメージ カタログを再ロードします。

サーバ上の画像カタログを更新するには、まず変更が必要なすべてのカタログ データ ファイルを置き換え、次にカタログ属性ファイルを置き換える（または「タッチ」してファイルの日付を更新する）と、カタログの再ロードをトリガーします。

## 増分更新 {#section-2c0f2c1b8480486d86920b5f2cfe72d2}

大きな画像カタログを読み込んで処理すると、サーバーに大きな負荷がかかる可能性があり、ライブサービングの操作に悪影響を与える可能性があります。 この影響を最小限に抑えるために、次のように動作する増分的なカタログ更新メカニズムを実装することをお勧めします。

すべての画像を含むプライマリカタログファイルは、トラフィックが少ない時間帯には毎晩読み込まれます。 その日に画像カタログのレコードを追加または変更する必要がある場合は、新しいレコードまたは変更されたレコードのみを含む別の画像データファイルが作成されます。 このファイルは、セカンダリ・イメージ・データ・ファイルとして `attribute::CatalogFile` に登録されます。 サーバは、カタログ属性ファイルが変更されたことを検出し、どのカタログ データ ファイルが変更されたかをチェックします。 メインの画像データファイルにタッチしていない場合、サーバーは増分データファイルのみを読み込んだり、再読み込みしたりします。 通常、このファイルはメインのカタログ ファイルよりもかなり小さいため、メイン カタログを再ロードする場合と比較して、サーバへの影響が大幅に軽減されます。

増分更新を使用すると、トラフィックが多い間のサーバーへの影響を大幅に減らすことができます。 最適なサーバ パフォーマンスを維持するために、トラフィックが少ない時間帯は、増分カタログ データ ファイルをメイン カタログ データ ファイルに定期的に結合することをお勧めします。
